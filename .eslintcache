[{"C:\\Projetos\\noticias\\src\\index.js":"1","C:\\Projetos\\noticias\\src\\reportWebVitals.js":"2","C:\\Projetos\\noticias\\src\\serviceWorkerRegistration.js":"3","C:\\Projetos\\noticias\\src\\App.js":"4","C:\\Projetos\\noticias\\src\\components\\Menu.js":"5","C:\\Projetos\\noticias\\src\\pages\\ForLaterNews.js":"6","C:\\Projetos\\noticias\\src\\pages\\Notes.js":"7","C:\\Projetos\\noticias\\src\\components\\Loading.js":"8","C:\\Projetos\\noticias\\src\\components\\News.js":"9","C:\\Projetos\\noticias\\src\\components\\NewsLater.js":"10","C:\\Projetos\\noticias\\src\\components\\TheNote.js":"11","C:\\Projetos\\noticias\\src\\components\\Header.js":"12"},{"size":1438,"mtime":1617509890939,"results":"13","hashOfConfig":"14"},{"size":364,"mtime":499162500000,"results":"15","hashOfConfig":"14"},{"size":5064,"mtime":499162500000,"results":"16","hashOfConfig":"14"},{"size":2322,"mtime":1617519386216,"results":"17","hashOfConfig":"14"},{"size":477,"mtime":1609642938753,"results":"18","hashOfConfig":"14"},{"size":1130,"mtime":1617575685210,"results":"19","hashOfConfig":"14"},{"size":1964,"mtime":1609815392167,"results":"20","hashOfConfig":"14"},{"size":129,"mtime":1609456208452,"results":"21","hashOfConfig":"14"},{"size":2834,"mtime":1617564522671,"results":"22","hashOfConfig":"14"},{"size":2857,"mtime":1609647241616,"results":"23","hashOfConfig":"14"},{"size":2958,"mtime":1609814638179,"results":"24","hashOfConfig":"14"},{"size":793,"mtime":1617576120780,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"1dl21m4",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"28"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"28"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"41","messages":"42","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"28"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"28"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"C:\\Projetos\\noticias\\src\\index.js",[],["55","56"],"C:\\Projetos\\noticias\\src\\reportWebVitals.js",[],"C:\\Projetos\\noticias\\src\\serviceWorkerRegistration.js",[],"C:\\Projetos\\noticias\\src\\App.js",["57"],"import React, { useState, useEffect } from \"react\";\nimport News from \"./components/News\";\nimport Loading from \"./components/Loading\";\nimport \"./App.css\";\n\nfunction App() {\n  const [news, setNews] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const timeElapsed = Date.now();\n  const today = new Date(timeElapsed).toLocaleDateString();\n  const lastVisit = localStorage.getItem(\"last_visit\");\n\n  const insertLastAccess = () => {\n    if (lastVisit !== today) localStorage.removeItem(\"last_visit\");\n    return localStorage.setItem(\"last_visit\", today);\n  };\n\n  const verifyLastAccess = () => {\n    const hasVisitedToday = !!(lastVisit === today);\n    return hasVisitedToday;\n  };\n\n  const verifyStoredData = (date) => {\n    const dataStored = !!localStorage.getItem(date);\n    return dataStored;\n  };\n\n  const getStoredNewsLocaly = () => {\n    const storedNewsStringfied = localStorage.getItem(today);\n    const storedNewsDestringfied = JSON.parse(storedNewsStringfied);\n    return setNews(storedNewsDestringfied);\n  };\n\n  const fetchData = async () => {\n    setLoading(true);\n    try {\n      const response = await fetch(\n        \"https://newscatcher.p.rapidapi.com/v1/latest_headlines?topic=world&lang=pt&media=True\",\n        {\n          method: \"GET\",\n          headers: {\n            \"x-rapidapi-key\":\n              \"ec2133b145mshb767111e52a5dbbp105264jsn84dd2dbf96b5\",\n            \"x-rapidapi-host\": \"newscatcher.p.rapidapi.com\",\n          },\n        }\n      );\n\n      const data = await response.json();\n      const theNews = data.articles;\n\n      localStorage.setItem(today, JSON.stringify(theNews));\n\n      setNews(theNews);\n      setLoading(false);\n    } catch (err) {\n      setLoading(null);\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    if (!verifyLastAccess()) insertLastAccess();\n    if (!verifyStoredData(today)) {\n      fetchData();\n      //console.log(\"from api\");\n    }\n    if (verifyStoredData(today)) {\n      getStoredNewsLocaly();\n      setLoading(false);\n      //console.log(\"from storage\");\n    }\n  }, []);\n\n  if (loading) {\n    return <Loading />;\n  }\n\n  if (news.length > 0) {\n    return (\n      <div className=\"container\">\n        {news.map((item, index) => {\n          return <News key={index} {...item} />;\n        })}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","C:\\Projetos\\noticias\\src\\components\\Menu.js",["58"],"import React, { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Menu() {\r\n  return (\r\n    <div className=\"menu\">\r\n      <ul className=\"menu-list\">\r\n        <li>\r\n          {\" \"}\r\n          <Link to=\"/\">Hoje</Link>{\" \"}\r\n        </li>\r\n        <li>\r\n          <Link to=\"/for-later-news\">Salvas</Link>\r\n        </li>\r\n        <li>\r\n          <Link to=\"/notes\">Notas</Link>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Menu;\r\n","C:\\Projetos\\noticias\\src\\pages\\ForLaterNews.js",["59"],"C:\\Projetos\\noticias\\src\\pages\\Notes.js",[],"C:\\Projetos\\noticias\\src\\components\\Loading.js",[],"C:\\Projetos\\noticias\\src\\components\\News.js",["60"],"import React, { useEffect, useState } from \"react\";\r\nimport dateFormat from \"dateformat\";\r\n\r\nfunction News(props) {\r\n  const {\r\n    clean_url,\r\n    link,\r\n    published_date,\r\n    media,\r\n    rights,\r\n    summary,\r\n    title,\r\n    _id,\r\n  } = props;\r\n\r\n  const [wasSaved, setWasSaved] = useState(false);\r\n\r\n  const saveForLater = () => {\r\n    localStorage.setItem(_id, \"saved\");\r\n    setWasSaved(true);\r\n    if (!!localStorage.getItem(\"for_later\")) {\r\n      let storedForLater = JSON.parse(localStorage.getItem(\"for_later\"));\r\n\r\n      storedForLater = [...storedForLater, props];\r\n      return localStorage.setItem(\"for_later\", JSON.stringify(storedForLater));\r\n    } else {\r\n      let saveForLaterArray = [props];\r\n      return localStorage.setItem(\r\n        \"for_later\",\r\n        JSON.stringify(saveForLaterArray)\r\n      );\r\n    }\r\n  };\r\n\r\n  const removeForLater = () => {\r\n    setWasSaved(false);\r\n    localStorage.removeItem(_id);\r\n    let storedForLater = JSON.parse(localStorage.getItem(\"for_later\"));\r\n    let filteredStorage = storedForLater.filter((item) => item._id !== _id);\r\n    if (filteredStorage.length === 0) localStorage.removeItem(\"for_later\");\r\n    if (filteredStorage.length > 0) {\r\n      localStorage.setItem(\"for_later\", JSON.stringify(filteredStorage));\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(_id)) setWasSaved(true);\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"news-box\">\r\n      <div className=\"header-news\">\r\n        <h3 className=\"title\">{title}</h3>\r\n        <small className=\"published-date\">\r\n          {dateFormat(published_date, \"dd/mm/yyyy\")}\r\n        </small>\r\n      </div>\r\n\r\n      {media && (\r\n        <>\r\n          <img className=\"img\" src={media} alt=\"imagem da notícia\" />\r\n        </>\r\n      )}\r\n\r\n      <div className=\"summary\">\r\n        <p>{summary}</p>\r\n      </div>\r\n\r\n      <div className=\"footer\">\r\n        <div className=\"footer-note\">\r\n          <small className=\"footer-note-text\">\r\n            <p>\r\n              <a href={link}> Ler matéria </a>\r\n            </p>\r\n          </small>\r\n        </div>\r\n        <div className=\"footer-note\">\r\n          <small className=\"footer-note-text\">\r\n            <p>\r\n              <a href={clean_url}>{rights !== \"\" ? rights : clean_url}</a>\r\n            </p>\r\n          </small>\r\n        </div>\r\n        <div className={`footer-note ${wasSaved ? \"was-saved\" : \"\"}`}>\r\n          <small className=\"footer-note-text\">\r\n            {wasSaved && (\r\n              <p className=\"pointer\" onClick={removeForLater}>\r\n                Remover\r\n              </p>\r\n            )}\r\n            {!wasSaved && (\r\n              <p className=\"pointer\" onClick={saveForLater}>\r\n                salvar\r\n              </p>\r\n            )}\r\n          </small>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default News;\r\n","C:\\Projetos\\noticias\\src\\components\\NewsLater.js",["61"],"import React, { useEffect, useState } from \"react\";\r\n\r\nfunction NewsLater(props) {\r\n  const [savedNews, setSavedNews] = props.newsState;\r\n  const {\r\n    clean_url,\r\n    link,\r\n    published_date,\r\n    media,\r\n    rights,\r\n    summary,\r\n    title,\r\n    _id,\r\n  } = props;\r\n\r\n  const [wasSaved, setWasSaved] = useState(false);\r\n\r\n  const saveForLater = () => {\r\n    localStorage.setItem(_id, \"saved\");\r\n    setWasSaved(true);\r\n    if (!!localStorage.getItem(\"for_later\")) {\r\n      let storedForLater = JSON.parse(localStorage.getItem(\"for_later\"));\r\n\r\n      storedForLater = [...storedForLater, props];\r\n      return localStorage.setItem(\"for_later\", JSON.stringify(storedForLater));\r\n    } else {\r\n      let saveForLaterArray = [props];\r\n      return localStorage.setItem(\r\n        \"for_later\",\r\n        JSON.stringify(saveForLaterArray)\r\n      );\r\n    }\r\n  };\r\n\r\n  const removeForLater = () => {\r\n    setWasSaved(false);\r\n    localStorage.removeItem(_id);\r\n    let storedForLater = JSON.parse(localStorage.getItem(\"for_later\"));\r\n    let filteredStorage = storedForLater.filter((item) => item._id !== _id);\r\n    if (filteredStorage.length === 0) localStorage.removeItem(\"for_later\");\r\n    if (filteredStorage.length > 0) {\r\n      localStorage.setItem(\"for_later\", JSON.stringify(filteredStorage));\r\n    }\r\n    setSavedNews(filteredStorage);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (localStorage.getItem(_id)) setWasSaved(true);\r\n  }, [savedNews]);\r\n\r\n  return (\r\n    <div className=\"news-box\">\r\n      <div className=\"header-news\">\r\n        <h3 className=\"title\">{title}</h3>\r\n        <small className=\"published-date\">{published_date}</small>\r\n      </div>\r\n\r\n      {media && (\r\n        <>\r\n          <img className=\"img\" src={media} alt=\"imagem da notícia\" />\r\n        </>\r\n      )}\r\n\r\n      <div className=\"summary\">\r\n        <p>{summary}</p>\r\n      </div>\r\n\r\n      <div className=\"footer\">\r\n        <div className=\"footer-note\">\r\n          <small className=\"footer-note-text\">\r\n            <p>\r\n              <a href={link}> Ler matéria </a>\r\n            </p>\r\n          </small>\r\n        </div>\r\n        <div className=\"footer-note\">\r\n          <small className=\"footer-note-text\">\r\n            <p>\r\n              <a href={clean_url}>{rights !== \"\" ? rights : clean_url}</a>\r\n            </p>\r\n          </small>\r\n        </div>\r\n        <div className={`footer-note ${wasSaved ? \"was-saved\" : \"\"}`}>\r\n          <small className=\"footer-note-text\">\r\n            {wasSaved && (\r\n              <p className=\"pointer\" onClick={removeForLater}>\r\n                Remover\r\n              </p>\r\n            )}\r\n            {!wasSaved && (\r\n              <p className=\"pointer\" onClick={saveForLater}>\r\n                salvar\r\n              </p>\r\n            )}\r\n          </small>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default NewsLater;\r\n","C:\\Projetos\\noticias\\src\\components\\TheNote.js",[],"C:\\Projetos\\noticias\\src\\components\\Header.js",[],{"ruleId":"62","replacedBy":"63"},{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","severity":1,"message":"67","line":73,"column":6,"nodeType":"68","endLine":73,"endColumn":8,"suggestions":"69"},{"ruleId":"70","severity":1,"message":"71","line":1,"column":17,"nodeType":"72","messageId":"73","endLine":1,"endColumn":26},{"ruleId":"70","severity":1,"message":"71","line":1,"column":17,"nodeType":"72","messageId":"73","endLine":1,"endColumn":26},{"ruleId":"66","severity":1,"message":"74","line":48,"column":6,"nodeType":"68","endLine":48,"endColumn":8,"suggestions":"75"},{"ruleId":"66","severity":1,"message":"74","line":49,"column":6,"nodeType":"68","endLine":49,"endColumn":17,"suggestions":"76"},"no-native-reassign",["77"],"no-negated-in-lhs",["78"],"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'fetchData', 'getStoredNewsLocaly', 'insertLastAccess', 'today', and 'verifyLastAccess'. Either include them or remove the dependency array.","ArrayExpression",["79"],"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","React Hook useEffect has a missing dependency: '_id'. Either include it or remove the dependency array.",["80"],["81"],"no-global-assign","no-unsafe-negation",{"desc":"82","fix":"83"},{"desc":"84","fix":"85"},{"desc":"86","fix":"87"},"Update the dependencies array to be: [fetchData, getStoredNewsLocaly, insertLastAccess, today, verifyLastAccess]",{"range":"88","text":"89"},"Update the dependencies array to be: [_id]",{"range":"90","text":"91"},"Update the dependencies array to be: [_id, savedNews]",{"range":"92","text":"93"},[2053,2055],"[fetchData, getStoredNewsLocaly, insertLastAccess, today, verifyLastAccess]",[1374,1376],"[_id]",[1431,1442],"[_id, savedNews]"]